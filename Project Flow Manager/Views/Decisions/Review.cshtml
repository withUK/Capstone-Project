@model ProjectFlowManagerModels.ProjectAssessmentReport

<a asp-action="Index" asp-controller="Decisions" class="link-back">Back</a>

<h1>Decisions</h1>
<h2>@ViewData["Title"]</h2>

<div>
    <hr />
    <dl class="row">
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Title)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Title)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Status)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Status)
        </dd>
    </dl>

    <h3>@Html.DisplayNameFor(model => model.Recommendations)</h3>
    @if(Model.Recommendations != null || Model.Recommendations.Count() > 0)
    {
        @foreach(var item in Model.Recommendations)
        {
            <dl class="row">
                <dt class = "col-sm-2">
                    Details
                </dt>
                <dd class = "col-sm-10">
                    @item.Details
                </dd>
                <dt class = "col-sm-2">
                    Created By
                </dt>
                <dd class = "col-sm-10">
                    @item.CreatedBy
                </dd>
                <dt class = "col-sm-2">
                    Created Date
                </dt>
                <dd class = "col-sm-10">
                    @item.Created
                </dd>
                @if(Model.ChosenRecommendationId != null && Model.ChosenRecommendationId == item.Id)
                {
                    <dt class = "col-sm-2"></dt>
                    <dd class = "col-sm-10">
                        <a class="btn btn-secondary btn-narrow" style="pointer-events: none" asp-action="SelectRecommendation" asp-controller="Decisions" asp-route-id="@item.Id">Selected</a>
                    </dd>
                }
                else
                {
                    if (Model.Approvals.Count == 0)
                    {
                        <dt class = "col-sm-2"></dt>
                        <dd class = "col-sm-10">
                            <a class="btn btn-primary btn-narrow" asp-action="SelectRecommendation" asp-controller="Decisions" asp-route-id="@item.Id">Select</a>
                        </dd>
                    }
                }
            </dl>
            <hr>
        }
    }

    <h3>@Html.DisplayNameFor(model => model.Innovation)</h3>
    <dl class="row">
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Innovation.Title)
        </dt>
         <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Innovation.Title)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Innovation.Description)
        </dt>
         <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Innovation.Description)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Innovation.NumberOfPeopleIncluded)
        </dt>
         <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Innovation.NumberOfPeopleIncluded)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Innovation.ProcessDuration)
        </dt>
         <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Innovation.ProcessDuration)
        </dd>
    </dl>
</div>
    <hr />
<div>
    <a class="btn btn-primary" asp-action="Approve" asp-controller="Decisions" asp-route-id="@Model?.Id"><i class="fa-solid fa-check"></i> Approve</a>
    <a class="btn btn-danger" asp-action="Decline" asp-controller="Decisions" asp-route-id="@Model?.Id"><i class="fa-solid fa-xmark"></i> Decline</a>
</div>